---
layout: post
title: "test"
date: 2019-10-30
categories: ios
---

<html lang="en" class="gr__book_logili_com_cn"><head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1 user-scalable=0">
		<link rel="shortcut icon" href="/img/logo.png">
		<title>这是风的古代谜语哦</title>
		<style>
			* {
				margin: 0;
				padding: 0;
			}
			
			body {
				-webkit-tap-highlight-color: rgba(0, 0, 0, 0);
				font-family: "微软雅黑"
			}
			
			#audio {
				width: 100%;
			}
			
			#control {
				width: 150px;
				height: 150px;
				line-height: 150px;
				text-align: center;
				border-radius: 200px;
				border: none;
				color: #fff;
				margin-left: -75px;
				left: 50%;
				top: 15vh;
				position: absolute;
				box-shadow: #888 0 0 8px;
				display: flex;
				align-items: center;
				justify-content: center;
			}
			
			.color_gray {
				background: #e4e4e4
			}
			
			.hide {
				display: none;
			}
			
			.show {
				display: block;
			}
			
			.play {
				background: url(艾瑞·卡尔.png) no-repeat;
				background-size: 100%;
			}
			
			.pause {
				background: url(艾瑞·卡尔.png) no-repeat;
				background-size: 100%;
			}
			/*进度条样式 bottom: 390px; left:500%;*/
			
			.progressBar {
				width: 60%;
				height: 22px;
				position: absolute;
				left: 0;
				margin-left: 20%;
				overflow: hidden;
				display: flex;
				align-items: center;
			}
			
			.progressBar div {
				position: absolute;
			}
			
			.progressBar .progressBac {
				width: 100%;
				height: 6px;
				left: 0;
				top: 50%;
				background: #d5d5d5;
				margin-top: -3px;
			}
			
			.progressBar .speed {
				width: 100%;
				height: 6px;
				left: -100%;
				background: #fac638;
			}
			
			.progressBar .drag {
				width: 20px;
				height: 20px;
				left: 0;
				top: 50%;
				margin-top: -10px;
				background: #fac638;
				opacity: 0.8;
				border-radius: 50px;
				box-shadow: #fff 0 0 5px;
			}
			/*时间样式*/
			
			#time {
				width: 100%;
				height: 20px;
				position: absolute;
				left: 0;
				bottom: 30px;
				color: #888;
			}
			
			.tiemDetail {
				position: absolute;
				right: 10px;
				top: 0;
			}
			
			#songInfo {
				overflow: hidden;
				height: 50px;
				line-height: 50px;
				text-align: center;
				color: #34495e;
				margin-top: -6vh;
				margin-left: -125px;
				left: 50%;
				top: 50%;
				position: absolute;
			}
			
			.shareImg {
				position: absolute;
				left: 100000px;
			}
			
			#currentTime {}
			
			#box1 {
				position: absolute;
				bottom: 55vh;
				width: 90%;
				display: flex;
				justify-content: space-between;
				margin-left: 5%;
			}
			
			#box-img {
				width: 100%;
				height: 250px;
			}
			
			#box-img>img {
				width: 100%;
				height: 100%;
			}
			
			#qr-code>img {
				width: 200px;
				height: 200px;
				line-height: 200px;
				text-align: center;
				color: #34495e;
				margin-left: -100px;
				left: 50%;
				top: 50vh;
				position: absolute;
			}
		</style>
		<!--<script src="js/zepto.js"></script>-->
		<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
	</head>

	<body data-gr-c-s-loaded="true">
		<script>
			$(function() {
				//  调用 音频地址  播放事件监听
				getSong();
			})
			//获取歌曲链接并插入dom中
			function getSong() {
				var audio = document.getElementById("audio");
				// audio.src = "mp.mp3"; //音频地址
				audio.loop = true; //歌曲循环
				playCotrol(); //播放控制函数  播放事件监听
			}
			//点击播放/暂停
			function clicks() {
				var audio = document.getElementById("audio");
				$("#control").click(function() { //点击事件 点击切换播放 暂停图标
					if($("#control").hasClass("play")) {
						$("#control").addClass("pause").removeClass("play");
						audio.play(); //开始播放
						dragMove(); //并且滚动条开始滑动
						$("#img_but").attr("src", "data:img/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAMAAADyHTlpAAAAnFBMVEUAAADcQjT/TTzNPjD/TTzNPjD8TDvbQjPcQzT9TDv/TTztSDjXQTPMPjDpRjfSPzHVQDLMPjDMPjD4Sjr/TTz1SjrpRjfMPjD/TTz/TTz/TTzpRjfXQTP/TTzMPjD8TDvMPjD8TDv6Szv8TDv1Sjr/TTz/////6uj/sancQjP/ysX5SzvmRTb/19P/nZT/j4T/dGf/b2H/ZVb/V0f5/Bd2AAAAJXRSTlMACOVl4Z5jMRn+8v7z8Ofk4+HZ17CwsLCenWZmZigoGhj78eHhs+31YwAAAQBJREFUOMuV0teOwjAQheFjnEASOkvvW8ZsgC3A+78bAiIgrsN/45tPI2ts6IlpPyKK+lMBb4uInooWTlglo6oVrsjaypRjcjTWZYWcVcoyI0+ZMZM1d0KBJihKKFhSUGLk3LzrLYi4Y2s8WjMX9b85XM/tj7kwKqeUuhy/Sm31Gwg7/VZqQ6UEZlw6w4BLB/jk0jekXJrhnUs/8MW/wJBLh5hz6fyVJ4CdHpX6M75WS7MnstZ67RNix5E7XJIcKnGtHpZ13FqH6RpFcUjGuNfxyw6eavhkA6XabtmGVpzaYRrDKMltMk9gS+YGlHC17O4fbt9dwpuQo16z2RtJAa0zkjLCM4He9mQAAAAASUVORK5CYII=")
					} else {
						$("#control").addClass("play").removeClass("pause");
						$("#img_but").attr("src", "data:img/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAMAAADyHTlpAAAAolBMVEUAAADcQjTNPjD/TTz/TTzUPzH/TTzNPjD8TDvcQzT6Szv/TTztSDjXQTPMPjD/TTzpRjfMPjDMPjD4Sjr/TTz1SjrpRjfMPjD/TTzpRjfXQTPpRjfMPjD/TTzMPjD8TDvMPjD6Szv1Sjr/TTz/////+vn/9fT/5uT/k4n/Xk7/UUH8TDvmRTbeQzTaQjP//v7/7+3/0s3/ysX/rab/f3P/dWhZGFyOAAAAI3RSTlMACGXh5OSenmMZ/vL+8/Dn5+HZ17CwsLBmZmYxMSgoGhjx4U5wuV0AAAEaSURBVDjLjdLpcoIwFIbhL0FEwL3ue3sQa1263/+tNbZOlXBOyDPDn8w74UwS2NRkEBAFg4mC09JUN8FSDBtU0mDDNbHW5bJOgrpd1khUK5YpOaTMnpKaPKc8b0yV4mtKHsSTl+6CvMCY+6VzAB2/tMP8/y3LX/gJFFky44NJFaZMajyX0imGbGrsrfUhAinNdlTwAGJTZooUiZRusyynO4944tPcfO/WACMufb3sap3uCDNhgG+yzKDY9JO7AjDpTnhaXWvpa7vnyi6ABXlZwEh8ygQX2ifV+NWsLpv4s6lON7iKqsoI/0J3GeJOy1W2UBC69rREBz48RCiJz1x5jsHRJzs8aUhWveOtO/ZWcFJ63G+3+2OtYPkBMEa4Q+8DrHAAAAAASUVORK5CYII=")
						audio.pause();
						//        	停止播放方法 audio.pause();
					}
				})
			}
			//播放时间
			function timeChange(time, timePlace) { //默认获取的时间是时间戳改成我们常见的时间格式
				var timePlace = document.getElementById(timePlace);
				//分钟
				var minute = time / 60;
				var minutes = parseInt(minute);
				if(minutes < 10) {
					minutes = "0" + minutes;
				}
				//秒
				var second = time % 60;
				seconds = parseInt(second);
				if(seconds < 10) {
					seconds = "0" + seconds;
				}
				var allTime = "" + minutes + "" + ":" + "" + seconds + ""
				timePlace.innerHTML = allTime;
			}
			//播放事件监听
			function playCotrol() {
				audio.addEventListener("loadeddata", //歌曲一经完整的加载完毕
					function() {
						$("#control").addClass("play").removeClass("color_gray");
						$("#img_but").attr("src", "data:img/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAMAAADyHTlpAAAAolBMVEUAAADcQjTNPjD/TTz/TTzUPzH/TTzNPjD8TDvcQzT6Szv/TTztSDjXQTPMPjD/TTzpRjfMPjDMPjD4Sjr/TTz1SjrpRjfMPjD/TTzpRjfXQTPpRjfMPjD/TTzMPjD8TDvMPjD6Szv1Sjr/TTz/////+vn/9fT/5uT/k4n/Xk7/UUH8TDvmRTbeQzTaQjP//v7/7+3/0s3/ysX/rab/f3P/dWhZGFyOAAAAI3RSTlMACGXh5OSenmMZ/vL+8/Dn5+HZ17CwsLBmZmYxMSgoGhjx4U5wuV0AAAEaSURBVDjLjdLpcoIwFIbhL0FEwL3ue3sQa1263/+tNbZOlXBOyDPDn8w74UwS2NRkEBAFg4mC09JUN8FSDBtU0mDDNbHW5bJOgrpd1khUK5YpOaTMnpKaPKc8b0yV4mtKHsSTl+6CvMCY+6VzAB2/tMP8/y3LX/gJFFky44NJFaZMajyX0imGbGrsrfUhAinNdlTwAGJTZooUiZRusyynO4944tPcfO/WACMufb3sap3uCDNhgG+yzKDY9JO7AjDpTnhaXWvpa7vnyi6ABXlZwEh8ygQX2ifV+NWsLpv4s6lON7iKqsoI/0J3GeJOy1W2UBC69rREBz48RCiJz1x5jsHRJzs8aUhWveOtO/ZWcFJ63G+3+2OtYPkBMEa4Q+8DrHAAAAAASUVORK5CYII=")
						//          addListenTouch(); //歌曲加载之后才可以拖动进度条
						var allTime = audio.duration;
						timeChange(allTime, "allTime");
						setInterval(function() {
							var currentTime = audio.currentTime;
							//显示时间 出来
							$("#time .currentTime").html(timeChange(currentTime, "currentTime"));
						}, 1000);
						clicks();
					}, false);
				audio.addEventListener("pause",
					function() { //监听播放
						$("#control").addClass("play").removeClass("pause");
						//          $("#control").html("点击播放");
						$("#img_but").attr("src", "data:img/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAMAAADyHTlpAAAAolBMVEUAAADcQjTNPjD/TTz/TTzUPzH/TTzNPjD8TDvcQzT6Szv/TTztSDjXQTPMPjD/TTzpRjfMPjDMPjD4Sjr/TTz1SjrpRjfMPjD/TTzpRjfXQTPpRjfMPjD/TTzMPjD8TDvMPjD6Szv1Sjr/TTz/////+vn/9fT/5uT/k4n/Xk7/UUH8TDvmRTbeQzTaQjP//v7/7+3/0s3/ysX/rab/f3P/dWhZGFyOAAAAI3RSTlMACGXh5OSenmMZ/vL+8/Dn5+HZ17CwsLBmZmYxMSgoGhjx4U5wuV0AAAEaSURBVDjLjdLpcoIwFIbhL0FEwL3ue3sQa1263/+tNbZOlXBOyDPDn8w74UwS2NRkEBAFg4mC09JUN8FSDBtU0mDDNbHW5bJOgrpd1khUK5YpOaTMnpKaPKc8b0yV4mtKHsSTl+6CvMCY+6VzAB2/tMP8/y3LX/gJFFky44NJFaZMajyX0imGbGrsrfUhAinNdlTwAGJTZooUiZRusyynO4944tPcfO/WACMufb3sap3uCDNhgG+yzKDY9JO7AjDpTnhaXWvpa7vnyi6ABXlZwEh8ygQX2ifV+NWsLpv4s6lON7iKqsoI/0J3GeJOy1W2UBC69rREBz48RCiJz1x5jsHRJzs8aUhWveOtO/ZWcFJ63G+3+2OtYPkBMEa4Q+8DrHAAAAAASUVORK5CYII=")
						if(audio.currentTime == audio.duration) { //判断到了总时间 就暂停播放 时间重置为0
							audio.stop();
							audio.currentTime = 0;
						}
					}, false);
				audio.addEventListener("play",
					function() { //监听暂停
						$("#control").addClass("pause").removeClass("play");
						//          $("#control").html("暂停播放");
						$("#img_but").attr("src", "data:img/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAMAAADyHTlpAAAAnFBMVEUAAADcQjT/TTzNPjD/TTzNPjD8TDvbQjPcQzT9TDv/TTztSDjXQTPMPjDpRjfSPzHVQDLMPjDMPjD4Sjr/TTz1SjrpRjfMPjD/TTz/TTz/TTzpRjfXQTP/TTzMPjD8TDvMPjD8TDv6Szv8TDv1Sjr/TTz/////6uj/sancQjP/ysX5SzvmRTb/19P/nZT/j4T/dGf/b2H/ZVb/V0f5/Bd2AAAAJXRSTlMACOVl4Z5jMRn+8v7z8Ofk4+HZ17CwsLCenWZmZigoGhj78eHhs+31YwAAAQBJREFUOMuV0teOwjAQheFjnEASOkvvW8ZsgC3A+78bAiIgrsN/45tPI2ts6IlpPyKK+lMBb4uInooWTlglo6oVrsjaypRjcjTWZYWcVcoyI0+ZMZM1d0KBJihKKFhSUGLk3LzrLYi4Y2s8WjMX9b85XM/tj7kwKqeUuhy/Sm31Gwg7/VZqQ6UEZlw6w4BLB/jk0jekXJrhnUs/8MW/wJBLh5hz6fyVJ4CdHpX6M75WS7MnstZ67RNix5E7XJIcKnGtHpZ13FqH6RpFcUjGuNfxyw6eavhkA6XabtmGVpzaYRrDKMltMk9gS+YGlHC17O4fbt9dwpuQo16z2RtJAa0zkjLCM4He9mQAAAAASUVORK5CYII=")
						dragMove();
					}, false);
				audio.addEventListener("ended", function() {
					alert(0)
				}, false)
			}
			//进度条
			var startX, x, aboveX = 0; //触摸时的坐标 //滑动的距离  //设一个全局变量记录上一次内部块滑动的位置
			function touchStart(e) {
				e.preventDefault();
				var touch = e.touches[0];
				startX = touch.pageX;
			}
			//滑动条前进
			function dragMove() {
				setInterval(function() {
					drag.style.left = (audio.currentTime / audio.duration) * ($('.progressBac').innerWidth() - 20) + "px";
					speed.style.left = -(($('.progressBac').innerWidth()) - (audio.currentTime / audio.duration) * ($('.progressBac').innerWidth() - 20)) + "px";
				}, 500);
			}
		</script>

		<div id="box-img">
			<!--最上面的图片 这里图片需要动态切换 -->
			<img src="">
		</div>
		<!--音频标签-->
		<audio id="audio" src="http://lzjy.oss-cn-shenzhen.aliyuncs.com/BACKSTAGE/sound/song/813eb8816c834d1fa41ea8cc09d3fb31.mp3" loop="" autoplay="autoplay"></audio>
		<!--播放控制按钮-->
		<div id="control" class="play"><img id="img_but" src="data:img/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAMAAADyHTlpAAAAolBMVEUAAADcQjTNPjD/TTz/TTzUPzH/TTzNPjD8TDvcQzT6Szv/TTztSDjXQTPMPjD/TTzpRjfMPjDMPjD4Sjr/TTz1SjrpRjfMPjD/TTzpRjfXQTPpRjfMPjD/TTzMPjD8TDvMPjD6Szv1Sjr/TTz/////+vn/9fT/5uT/k4n/Xk7/UUH8TDvmRTbeQzTaQjP//v7/7+3/0s3/ysX/rab/f3P/dWhZGFyOAAAAI3RSTlMACGXh5OSenmMZ/vL+8/Dn5+HZ17CwsLBmZmYxMSgoGhjx4U5wuV0AAAEaSURBVDjLjdLpcoIwFIbhL0FEwL3ue3sQa1263/+tNbZOlXBOyDPDn8w74UwS2NRkEBAFg4mC09JUN8FSDBtU0mDDNbHW5bJOgrpd1khUK5YpOaTMnpKaPKc8b0yV4mtKHsSTl+6CvMCY+6VzAB2/tMP8/y3LX/gJFFky44NJFaZMajyX0imGbGrsrfUhAinNdlTwAGJTZooUiZRusyynO4944tPcfO/WACMufb3sap3uCDNhgG+yzKDY9JO7AjDpTnhaXWvpa7vnyi6ABXlZwEh8ygQX2ifV+NWsLpv4s6lON7iKqsoI/0J3GeJOy1W2UBC69rREBz48RCiJz1x5jsHRJzs8aUhWveOtO/ZWcFJ63G+3+2OtYPkBMEa4Q+8DrHAAAAAASUVORK5CYII="></div>
		<!--时间进度条块儿start-->
		<div id="box">
			<div id="box1">
				<span class="currentTime" id="currentTime">00:00</span>
				<section class="progressBar">
					<!--进度条-->
					<div class="progressBac"></div>
					<div class="speed" id="speed"></div>
					<div class="drag" id="drag"></div>
				</section>
				<span class="allTime" id="allTime">03:22</span>
			</div>
		</div>
		<div id="songInfo">长按识别下方二维码，获取更多内容哦！</div>
		<!--二维码图片-->
		<div id="qr-code"><img src=""></div>
	

</body></html>